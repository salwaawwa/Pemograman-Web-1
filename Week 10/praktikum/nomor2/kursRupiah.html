<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurs Rupiah</title>
</head>

<body>
    <fieldset style="width: 38%;">
        <legend>Kurs Rupiah - Mata Uang Asia</legend>
        <table border=" 1">
            <tr width="100%">
                <th width="30%">Masukan Nilai</th>
                <th width="40%">Valas</th>
                <th width="30%">Nilai Rupiah</th>
            </tr>
            <tr>
                <td>
                    <input type="text" id="masukanNilai" name="masukanNilai" autofocus onchange="konversi()">
                </td>
                <td>
                    <select name="kurs" id="kurs" style="width: 100%;" onchange="konversi()">
                        <option value="" disabled selected>-- Select One ---</option>
                        <option value="Dolar Us">Dolar US</option>
                        <option value="Dolar Singapore">Dolar Singapore</option>
                        <option value="Ringgit Malaysia">Ringgit Malaysia</option>
                        <option value="Yen Jepang">Yen Jepang</option>
                        <option value="Euro">Euro</option>
                        <option value="Riyal Arab Saudi">Riyal Arab Saudi</option>
                    </select>
                </td>
                <td>
                    <input type="text" id="nilaiRupiah" name="nilaiRupiah" disabled>
                </td>
            </tr>
        </table>
    </fieldset>

    <script>
        function konversi() {
            let nilai = document.getElementById("masukanNilai").value
            let kurs = document.getElementById("kurs").value
            let rupiah = 0

            if (kurs === "") {
                alert('kurs is required')
            } else {
                switch (kurs) {
                    case "Dolar Us":
                        rupiah = 9_915
                        break;
                    case "Dolar Singapore":
                        rupiah = 13_472
                        break;
                    case "Ringgit Malaysia":
                        rupiah = 874
                        break;
                    case "Yen Jepang":
                        rupiah = 120
                        break;
                    case "Euro":
                        rupiah = 15_888
                        break;
                    case "Riyal Arab Saudi":
                        rupiah = 3_592
                        break;
                }

                document.getElementById("nilaiRupiah").value = `${formatRupiah(+nilai * rupiah)} Rupiah`
            }
        }

        function formatRupiah(number) {
            let reverse = number.toString().split('').reverse().join('')
            let ribuan = reverse.match(/\d{1,3}/g);

            ribuan = ribuan.join('.').split('').reverse().join('');

            return ribuan
        }
    </script>
</body>

</html>