<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validasi</title>
    <style>
        p {
            margin: 5px
        }
    </style>
</head>

<body>
    <table>
        <tr>
            <td>
                <label for="nama_pelanggan">Nama Pelanggan</label>
            </td>
            <td>
                <input type="text" id="nama_pelanggan">
            </td>
            <td>
                <p id="error_nama"></p>
            </td>
        </tr>
        <tr>
            <td>
                <label for="email">Email</label>
            </td>
            <td>
                <input type="text" id="email">
            </td>
            <td>
                <p id="error_email"></p>
            </td>
        </tr>
        <tr>
            <td>
                <label for="jam_keberangkatan">Jam Keberangkatan</label>
            </td>
            <td>
                <input type="text" id="jam_keberangkatan">
            </td>
            <td>
                <p id="error_jam"></p>
            </td>
        </tr>
        <tr>
            <td>
                <label for="tujuan_keberangkatan">Tujuan Keberangkatan</label>
            </td>
            <td>
                <input type="text" id="tujuan_keberangkatan">
            </td>
            <td>
                <p id="error_tujuan"></p>
            </td>
        </tr>
        <tr>
            <td>
                <label for="jumlah_tiket">Jumlah Tiket</label>
            </td>
            <td>
                <input type="text" id="jumlah_tiket">
            </td>
            <td>
                <p id="error_jumlah"></p>
            </td>
        </tr>
        <tr>
            <td colspan="2" align="right">
                <button id="kirim" onclick="validation()">Submit</button>
            </td>
        </tr>
    </table>

    <div id="hasil">

    </div>

    <script>
        function validation() {
            let namaPelanggan = document.getElementById("nama_pelanggan").value
            let email = document.getElementById("email").value
            let jamKeberangkatan = document.getElementById("jam_keberangkatan").value
            let tujuanKeberangkatan = document.getElementById("tujuan_keberangkatan").value
            let jumlahTiket = document.getElementById("jumlah_tiket").value
            let btnSubmit = document.getElementById("kirim")

            let errNama = document.getElementById("error_nama")
            let errEmail = document.getElementById("error_email")
            let errJam = document.getElementById("error_jam")
            let errTujuan = document.getElementById("error_tujuan")
            let errJumlah = document.getElementById("error_jumlah")

            if (!namaPelanggan) {
                errNama.innerText = "* nama pelanggan wajib diisi"
                errNama.style.color = "red"
            } else if (namaPelanggan.length > 30) {
                errNama.innerText = "* nama pelanggan maksimal 30 karakter"
                errNama.style.color = "red"
            } else {
                errNama.innerText = ""
            }

            let pattern = /^[^ ]+@[^ ]+.[a-z]{2,3}$/;

            if (!email) {
                errEmail.innerText = "* email wajib diisi"
                errEmail.style.color = "red"
            } else if (!email.match(pattern)) {
                errEmail.innerText = "* invalid email format"
                errEmail.style.color = "red"
            } else {
                errEmail.innerText = ""
            }

            if (!jamKeberangkatan) {
                errJam.innerText = "* jam keberangkatan wajib diisi"
                errJam.style.color = "red"
            } else {
                errJam.innerText = ""
            }

            if (!tujuanKeberangkatan) {
                errTujuan.innerText = "* tujuan keberangkatan wajib diisi"
                errTujuan.style.color = "red"
            } else {
                errTujuan.innerText = ""
            }

            if (!jumlahTiket) {
                errJumlah.innerText = "* jumlah tiket wajib diisi"
                errJumlah.style.color = "red"
            } else if (jumlahTiket > 10 || jumlahTiket < 1) {
                errJumlah.innerText = "* jumlah tiket harus bilangan bulat 1 - 10"
                errJumlah.style.color = "red"
            } else {
                errJumlah.innerText = ""
            }

            if (errNama.innerText === "" && errEmail.innerText === "" && errJam.innerText === "" && errTujuan.innerText === "" && errJumlah.innerText === "") {
                let hasil = document.getElementById("hasil")
                hasil.innerHTML = `<p>Nama pelanggan : ${namaPelanggan}</p>`
                hasil.innerHTML += `<p>Email : ${email}</p>`
                hasil.innerHTML += `<p>Jam Keberangkatan : ${jamKeberangkatan}</p>`
                hasil.innerHTML += `<p>Tujuan Keberangkatan : ${tujuanKeberangkatan}</p>`
                hasil.innerHTML += `<p>Jumlah Tiket : ${jumlahTiket}</p>`
            }
        }
    </script>
</body>

</html>